{"version":3,"file":"js/app.ca91580b.js","mappings":"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","sources":["webpack://test-v2/./src/App.vue","webpack://test-v2/./src/components/FlowChart/FlowChart.vue","webpack://test-v2/./src/components/FlowChart/RectNode.vue","webpack://test-v2/src/components/FlowChart/RectNode.vue","webpack://test-v2/./src/components/FlowChart/RectNode.vue?6944","webpack://test-v2/./src/components/FlowChart/RectNode.vue?13d1","webpack://test-v2/./src/components/FlowChart/config.js","webpack://test-v2/src/components/FlowChart/FlowChart.vue","webpack://test-v2/./src/components/FlowChart/FlowChart.vue?ce80","webpack://test-v2/./src/components/FlowChart/FlowChart.vue?cbb8","webpack://test-v2/src/App.vue","webpack://test-v2/./src/App.vue?51dd","webpack://test-v2/./src/App.vue?0e40","webpack://test-v2/./src/main.js","webpack://test-v2/webpack/bootstrap","webpack://test-v2/webpack/runtime/amd options","webpack://test-v2/webpack/runtime/chunk loaded","webpack://test-v2/webpack/runtime/compat get default export","webpack://test-v2/webpack/runtime/define property getters","webpack://test-v2/webpack/runtime/global","webpack://test-v2/webpack/runtime/hasOwnProperty shorthand","webpack://test-v2/webpack/runtime/make namespace object","webpack://test-v2/webpack/runtime/node module decorator","webpack://test-v2/webpack/runtime/jsonp chunk loading","webpack://test-v2/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('FlowChart')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('div',{staticClass:\"content\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.onlyRead),expression:\"!onlyRead\"}],staticClass:\"app-stencil\",attrs:{\"id\":\"stencilContainer\"}}),_c('div',{staticClass:\"app-content\",attrs:{\"id\":\"graphContainer\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.onlyRead),expression:\"!onlyRead\"}],staticClass:\"operations\"},[_c('div',{staticClass:\"operations-item\"},[_c('el-popover',{attrs:{\"placement\":\"top-start\",\"title\":\"快捷键\",\"width\":\"200\",\"trigger\":\"hover\"}},[_c('div',[_c('div',[_vm._v(\"画布缩放：ctrl/meta+鼠标滚轮\")]),_c('div',[_vm._v(\"节点内容编辑：鼠标左键双击\")]),_c('div',[_vm._v(\"节点大小调整：鼠标左键单击\")]),_c('div',[_vm._v(\"多个节点框选：ctrl/meta+鼠标左键拖动\")]),_c('div',[_vm._v(\"节点删除：鼠标左键单击节点\")]),_c('div',[_vm._v(\"连线颜色修改：鼠标右键\")]),_c('div',[_vm._v(\"连线删除/修改：鼠标左键单击连线\")]),_c('div',[_vm._v(\"文本颜色修改：鼠标右键\")]),_c('div',[_vm._v(\"退出只读模式：ctrl+alt+shift\")])]),_c('div',{attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('i',{staticClass:\"el-icon-more\"}),_c('div',{staticClass:\"text\"},[_vm._v(\"操作说明\")])])])],1),_c('div',{staticClass:\"operations-item\",on:{\"click\":function($event){return _vm.onlyReadFun()}}},[_c('i',{staticClass:\"el-icon-view\"}),_c('div',{staticClass:\"text\"},[_vm._v(\"只读模式\")])]),_c('div',{staticClass:\"operations-item\",class:{ active: _vm.isSelect },on:{\"click\":function($event){return _vm.selectFun()}}},[_c('i',{staticClass:\"el-icon-crop\"}),_c('div',{staticClass:\"text\"},[_vm._v(\" \"+_vm._s(_vm.isSelect ? \"禁用框选\" : \"开启框选\")+\" \")])]),_c('div',{staticClass:\"operations-item\",on:{\"click\":function($event){return _vm.saveFun()}}},[_c('i',{staticClass:\"el-icon-thumb\"}),_c('div',{staticClass:\"text\"},[_vm._v(\"保存数据\")])])]),_c('el-dialog',{attrs:{\"title\":\"编辑节点\",\"visible\":_vm.isShowEditCard,\"close-on-click-modal\":false,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.isShowEditCard=$event},\"close\":function($event){return _vm.cancelEdit()}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[(!_vm.isGroup)?[_c('el-form-item',{attrs:{\"label\":\"节点code\",\"prop\":\"code\"}},[_c('el-input',{model:{value:(_vm.form.code),callback:function ($$v) {_vm.$set(_vm.form, \"code\", $$v)},expression:\"form.code\"}})],1),_c('el-form-item',{staticClass:\"node_name\",attrs:{\"label\":\"节点名称\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}}),_c('el-color-picker',{attrs:{\"size\":\"small\"},on:{\"change\":($event) => _vm.colorChange($event, 1)},model:{value:(_vm.form.textColor1),callback:function ($$v) {_vm.$set(_vm.form, \"textColor1\", $$v)},expression:\"form.textColor1\"}})],1),_c('el-form-item',{staticClass:\"node_name\",attrs:{\"label\":\"角色名称\"}},[_c('el-input',{model:{value:(_vm.form.role),callback:function ($$v) {_vm.$set(_vm.form, \"role\", $$v)},expression:\"form.role\"}}),_c('el-color-picker',{attrs:{\"size\":\"small\"},on:{\"change\":($event) => _vm.colorChange($event, 2)},model:{value:(_vm.form.textColor2),callback:function ($$v) {_vm.$set(_vm.form, \"textColor2\", $$v)},expression:\"form.textColor2\"}})],1)]:_vm._e(),_c('el-form-item',{attrs:{\"label\":\"节点类型\",\"prop\":\"type\"}},[_c('el-select',{staticClass:\"node_select\",attrs:{\"placeholder\":\"请选择节点类型\"},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},_vm._l((_vm.typeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],2),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.cancelEdit()}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitEdit('form')}}},[_vm._v(\"确 定\")])],1)],1),_c('div',{staticClass:\"custom_drop_down\",attrs:{\"id\":\"custom_drop_down\"}},[_c('div',{staticClass:\"custom_drop_down_item\"},[_vm._v(\" 背景颜色 \"),_c('el-color-picker',{attrs:{\"size\":\"small\"},on:{\"change\":($event) => _vm.setColor($event, 1)},model:{value:(_vm.nodeColor),callback:function ($$v) {_vm.nodeColor=$$v},expression:\"nodeColor\"}})],1),_c('div',{staticClass:\"custom_drop_down_item\"},[_vm._v(\" 文字/连线颜色 \"),_c('el-color-picker',{attrs:{\"size\":\"small\"},on:{\"change\":($event) => _vm.setColor($event, 2)},model:{value:(_vm.edgeColor),callback:function ($$v) {_vm.edgeColor=$$v},expression:\"edgeColor\"}})],1),_c('div',{staticClass:\"custom_drop_down_item\"},[_c('div',[_vm._v(\" 字体大小 \"),_c('el-input-number',{attrs:{\"size\":\"mini\",\"precision\":0,\"step\":1},on:{\"change\":_vm.fontSizeChange},model:{value:(_vm.fontSize),callback:function ($$v) {_vm.fontSize=$$v},expression:\"fontSize\"}})],1)])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"rect-container\",class:{ 'high-light': _vm.highLight },attrs:{\"id\":'flow_node' + _vm.id}},[_c('div',{staticClass:\"node_t\",style:({ color: _vm.textColor1 })},[_c('span',[_vm._v(_vm._s(_vm.lobelTop || \"节点名称\"))])]),_c('div',{staticClass:\"node_b\",style:({\n      'background-color': _vm.typeColor[_vm.type],\n      color: _vm.textColor2,\n    })},[_c('span',[_vm._v(_vm._s(_vm.lobelBottom || \"角色名称\"))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"rect-container\"\r\n    :class=\"{ 'high-light': highLight }\"\r\n    :id=\"'flow_node' + id\"\r\n  >\r\n    <div class=\"node_t\" :style=\"{ color: textColor1 }\">\r\n      <span>{{ lobelTop || \"节点名称\" }}</span>\r\n    </div>\r\n    <div\r\n      class=\"node_b\"\r\n      :style=\"{\r\n        'background-color': typeColor[type],\r\n        color: textColor2,\r\n      }\"\r\n    >\r\n      <span>{{ lobelBottom || \"角色名称\" }}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { typeColor } from \"./config.js\";\r\nexport default {\r\n  name: \"RectNode\",\r\n  inject: [\"getNode\"],\r\n  data() {\r\n    return {\r\n      lobelTop: \"节点名称\",\r\n      lobelBottom: \"角色名称\",\r\n      highLight: false,\r\n      code: null,\r\n      isEdit: false,\r\n      type: 1, // 对应节点类型1，2，3\r\n      id: null,\r\n      typeColor,\r\n      textColor1: \"#2c3e50\",\r\n      textColor2: \"#2c3e50\",\r\n    };\r\n  },\r\n  mounted() {\r\n    const node = this.getNode();\r\n    this.lobelTop = node.store.data.label1;\r\n    this.lobelBottom = node.store.data.label2;\r\n    this.highLight = node.store.data.highLight;\r\n    this.code = node.store.data.code;\r\n    this.type = node.store.data.type;\r\n    this.id = node.id;\r\n    node.on(\"change:code\", ({ current }) => {\r\n      this.code = current;\r\n    });\r\n    node.on(\"change:label1\", ({ current }) => {\r\n      this.lobelTop = current;\r\n    });\r\n    node.on(\"change:label2\", ({ current }) => {\r\n      this.lobelBottom = current;\r\n    });\r\n    node.on(\"change:type\", ({ current }) => {\r\n      this.type = current;\r\n    });\r\n    node.on(\"change:textColor1\", ({ current }) => {\r\n      this.textColor1 = current || \"#2c3e50\";\r\n    });\r\n    node.on(\"change:textColor2\", ({ current }) => {\r\n      this.textColor2 = current || \"#2c3e50\";\r\n    });\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.rect-container {\r\n  border: 1px solid #5f95ff;\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.node_t {\r\n  font-size: 12px;\r\n  box-sizing: border-box;\r\n  /* padding: 2px; */\r\n  height: 55%;\r\n  background: #fff;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.node_b {\r\n  font-size: 12px;\r\n  border-top: 1px solid #000;\r\n  /* padding: 2px; */\r\n  background-color: #9bcdff;\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.input {\r\n  width: calc(100% - 8px);\r\n}\r\n.high-light {\r\n  border: 2px dashed #03e9f4;\r\n  background-color: rgb(124, 104, 252, 0.2);\r\n  box-shadow: 0 0 5px #03e9f4, 0 0 25px #03e9f4, 0 0 50px #03e9f4,\r\n    0 0 100px #03e9f4;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RectNode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RectNode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RectNode.vue?vue&type=template&id=2771040c&scoped=true&\"\nimport script from \"./RectNode.vue?vue&type=script&lang=ts&\"\nexport * from \"./RectNode.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RectNode.vue?vue&type=style&index=0&id=2771040c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2771040c\",\n  null\n  \n)\n\nexport default component.exports","import { Graph, Shape, Addon } from \"@antv/x6\";\r\nimport RectNode from \"./RectNode.vue\";\r\nimport { register } from \"@antv/x6-vue-shape\";\r\n\r\nexport const typeColor = {\r\n  1: \"#9bcdff\",\r\n  2: \"#D8F5C5\",\r\n  3: \"#c0f2ff\",\r\n  4: \"#F2E3C4\",\r\n};\r\n// 连接桩\r\nexport const ports = {\r\n  groups: {\r\n    top: {\r\n      position: {\r\n        name: \"absolute\",\r\n      },\r\n      attrs: {\r\n        circle: {\r\n          r: 4,\r\n          magnet: true,\r\n          stroke: \"#5F95FF\",\r\n          strokeWidth: 1,\r\n          fill: \"#fff\",\r\n          style: {\r\n            visibility: \"hidden\",\r\n          },\r\n        },\r\n      },\r\n    },\r\n    right: {\r\n      position: {\r\n        name: \"absolute\",\r\n      },\r\n      attrs: {\r\n        circle: {\r\n          r: 4,\r\n          magnet: true,\r\n          stroke: \"#5F95FF\",\r\n          strokeWidth: 1,\r\n          fill: \"#fff\",\r\n          style: {\r\n            visibility: \"hidden\",\r\n          },\r\n        },\r\n      },\r\n    },\r\n    bottom: {\r\n      position: {\r\n        name: \"absolute\",\r\n      },\r\n      attrs: {\r\n        circle: {\r\n          r: 4,\r\n          magnet: true,\r\n          stroke: \"#5F95FF\",\r\n          strokeWidth: 1,\r\n          fill: \"#fff\",\r\n          style: {\r\n            visibility: \"hidden\",\r\n          },\r\n        },\r\n      },\r\n    },\r\n    left: {\r\n      position: {\r\n        name: \"absolute\",\r\n      },\r\n      attrs: {\r\n        circle: {\r\n          r: 4,\r\n          magnet: true,\r\n          stroke: \"#5F95FF\",\r\n          strokeWidth: 1,\r\n          fill: \"#fff\",\r\n          style: {\r\n            visibility: \"hidden\",\r\n          },\r\n        },\r\n      },\r\n    },\r\n  },\r\n  items: [\r\n    {\r\n      group: \"top\",\r\n      args: {\r\n        x: \"50%\",\r\n        y: \"0%\",\r\n      },\r\n    },\r\n    {\r\n      group: \"right\",\r\n      args: {\r\n        x: \"100%\",\r\n        y: \"50%\",\r\n      },\r\n    },\r\n    {\r\n      group: \"bottom\",\r\n      args: {\r\n        x: \"50%\",\r\n        y: \"100%\",\r\n      },\r\n    },\r\n    {\r\n      group: \"left\",\r\n      args: {\r\n        x: \"0%\",\r\n        y: \"50%\",\r\n      },\r\n    },\r\n  ],\r\n};\r\n\r\n// 初始化画布\r\nexport function initGraph(container) {\r\n  return new Graph({\r\n    container: document.getElementById(container),\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    grid: true,\r\n    panning: {\r\n      enabled: true,\r\n    },\r\n    // 框选\r\n    selecting: {\r\n      enabled: false,\r\n      multiple: true,\r\n      rubberband: true,\r\n      modifiers: [\"ctrl\", \"meta\"],\r\n      movable: true,\r\n      showNodeSelectionBox: true,\r\n      pointerEvents: \"none\",\r\n    },\r\n    // 分组\r\n    embedding: {\r\n      enabled: true,\r\n      findParent({ node }) {\r\n        const bbox = node.getBBox();\r\n        return this.getNodes().filter((node) => {\r\n          // 只有 data.parent 为 true 的节点才是父节点\r\n          const data = node.store.data;\r\n          if (data && data.parent) {\r\n            const targetBBox = node.getBBox();\r\n            return bbox.isIntersectWithRect(targetBBox);\r\n          }\r\n          return false;\r\n        });\r\n      },\r\n    },\r\n    // 调整节点大小\r\n    resizing: {\r\n      enabled: true,\r\n    },\r\n    // snapline: true,\r\n    background: {\r\n      color: \"#F2F7FA\",\r\n    },\r\n    mousewheel: {\r\n      enabled: true,\r\n      modifiers: [\"ctrl\", \"meta\"],\r\n    },\r\n    // interacting: {\r\n    //   edgeLabelMovable: true,\r\n    // },\r\n    interacting: true, //是否启用交互\r\n\r\n    connecting: {\r\n      router: {\r\n        name: \"manhattan\",\r\n        args: {\r\n          excludeShapes: [\"custom-rect-text\"],\r\n        },\r\n      },\r\n      connector: {\r\n        name: \"normal\",\r\n        args: {\r\n          radius: 0,\r\n        },\r\n      },\r\n      allowBlank: false,\r\n      snap: {\r\n        radius: 20,\r\n      },\r\n      // 连线初始配置\r\n      createEdge() {\r\n        return new Shape.Edge({\r\n          attrs: {\r\n            line: {\r\n              stroke: \"#A2B1C3\",\r\n              strokeWidth: 1,\r\n              targetMarker: {\r\n                name: \"block\",\r\n                width: 6,\r\n                height: 6,\r\n              },\r\n            },\r\n            text: {\r\n              fontSize: 12,\r\n              fill: \"#262626\",\r\n            },\r\n          },\r\n          zIndex: 10,\r\n        });\r\n      },\r\n      validateConnection({ targetMagnet }) {\r\n        return !!targetMagnet;\r\n      },\r\n    },\r\n    highlighting: {\r\n      magnetAdsorbed: {\r\n        name: \"stroke\",\r\n        args: {\r\n          attrs: {\r\n            fill: \"#5F95FF\",\r\n            stroke: \"#5F95FF\",\r\n          },\r\n        },\r\n      },\r\n    },\r\n  });\r\n}\r\n\r\n// 初始化组件栏\r\nexport function initStencil(graph) {\r\n  const { Stencil } = Addon;\r\n  return new Stencil({\r\n    title: \"流程图\",\r\n    target: graph,\r\n    stencilGraphWidth: 220,\r\n    stencilGraphHeight: 280,\r\n    collapsable: true,\r\n    groups: [\r\n      {\r\n        title: \"流程图组件\",\r\n        name: \"group1\",\r\n        collapsable: false,\r\n        layoutOptions: {\r\n          columns: 2,\r\n          columnWidth: 80,\r\n          rowHeight: 55,\r\n        },\r\n      },\r\n      {\r\n        title: \"节点类型\",\r\n        name: \"group2\",\r\n        collapsable: false,\r\n        layoutOptions: {\r\n          columns: 1,\r\n          columnWidth: 180,\r\n          rowHeight: 55,\r\n        },\r\n      },\r\n    ],\r\n    getDropNode: (node) => {\r\n      const { width, height } = node.size();\r\n      if (node.store.data.shape.includes(\"custom-rect-node\")) {\r\n        return node.clone().size(180, 70);\r\n      } else if (node.store.data.shape.includes(\"custom-rect-group\")) {\r\n        return node\r\n          .clone()\r\n          .size(width * 1.5, height * 1.5)\r\n          .attr(\"text/text\", \"\");\r\n      } else {\r\n        return node.clone().size(width * 1.5, height * 1.5);\r\n      }\r\n    },\r\n  });\r\n}\r\n\r\n// 注册节点\r\nexport function registerNode(graph, stencil) {\r\n  // 注册节点\r\n  register({\r\n    shape: \"custom-rect-node\",\r\n    width: 66,\r\n    height: 40,\r\n    zIndex: 10,\r\n    component: RectNode,\r\n    ports: { ...ports },\r\n  });\r\n  Graph.registerNode(\r\n    \"custom-rect\",\r\n    {\r\n      inherit: \"rect\",\r\n      width: 66,\r\n      height: 40,\r\n      zIndex: 10,\r\n      attrs: {\r\n        body: {\r\n          strokeWidth: 1,\r\n          stroke: \"#5F95FF\",\r\n          fill: \"#EFF4FF\",\r\n        },\r\n        text: {\r\n          fontSize: 12,\r\n          fill: \"#262626\",\r\n        },\r\n      },\r\n      ports: { ...ports },\r\n    },\r\n    true\r\n  );\r\n\r\n  Graph.registerNode(\r\n    \"custom-polygon\",\r\n    {\r\n      inherit: \"polygon\",\r\n      width: 66,\r\n      height: 40,\r\n      zIndex: 10,\r\n      attrs: {\r\n        body: {\r\n          strokeWidth: 1,\r\n          stroke: \"#5F95FF\",\r\n          fill: \"#EFF4FF\",\r\n          refPoints: \"0,10 10,0 20,10 10,20\",\r\n        },\r\n        text: {\r\n          fontSize: 12,\r\n          fill: \"#262626\",\r\n        },\r\n      },\r\n      ports: {\r\n        ...ports,\r\n      },\r\n    },\r\n    true\r\n  );\r\n\r\n  Graph.registerNode(\r\n    \"custom-circle\",\r\n    {\r\n      inherit: \"circle\",\r\n      width: 45,\r\n      height: 45,\r\n      zIndex: 10,\r\n      attrs: {\r\n        body: {\r\n          strokeWidth: 1,\r\n          stroke: \"#5F95FF\",\r\n          fill: \"#EFF4FF\",\r\n        },\r\n        text: {\r\n          fontSize: 12,\r\n          fill: \"#262626\",\r\n        },\r\n      },\r\n      ports: { ...ports },\r\n    },\r\n    true\r\n  );\r\n\r\n  Graph.registerNode(\r\n    \"custom-image\",\r\n    {\r\n      inherit: \"rect\",\r\n      width: 52,\r\n      height: 52,\r\n      zIndex: 10,\r\n      markup: [\r\n        {\r\n          tagName: \"rect\",\r\n          selector: \"body\",\r\n        },\r\n        {\r\n          tagName: \"image\",\r\n        },\r\n        {\r\n          tagName: \"text\",\r\n          selector: \"label\",\r\n        },\r\n      ],\r\n      attrs: {\r\n        body: {\r\n          stroke: \"#5F95FF\",\r\n          fill: \"#5F95FF\",\r\n        },\r\n        image: {\r\n          width: 26,\r\n          height: 26,\r\n          refX: 13,\r\n          refY: 16,\r\n        },\r\n        label: {\r\n          refX: 3,\r\n          refY: 2,\r\n          textAnchor: \"left\",\r\n          textVerticalAnchor: \"top\",\r\n          fontSize: 12,\r\n          fill: \"#fff\",\r\n        },\r\n      },\r\n      ports: { ...ports },\r\n    },\r\n    true\r\n  );\r\n\r\n  Graph.registerNode(\r\n    \"custom-rect-dashed\",\r\n    {\r\n      inherit: \"rect\",\r\n      width: 50,\r\n      height: 50,\r\n      zIndex: 10,\r\n      attrs: {\r\n        body: {\r\n          strokeWidth: 1,\r\n          strokeDasharray: 3,\r\n          stroke: \"#5F95FF\",\r\n          fill: \"#EFF4FF\",\r\n        },\r\n        text: {\r\n          fontSize: 12,\r\n          fill: \"#262626\",\r\n        },\r\n      },\r\n      ports: { ...ports },\r\n    },\r\n    true\r\n  );\r\n\r\n  Graph.registerNode(\r\n    \"custom-rect-text\",\r\n    {\r\n      inherit: \"rect\",\r\n      width: 50,\r\n      height: 30,\r\n      zIndex: 10,\r\n      attrs: {\r\n        body: {\r\n          strokeWidth: 0,\r\n          strokeDasharray: 0,\r\n          stroke: \"rgba(255,255,255,0.1)\",\r\n          fill: \"rgba(255,255,255,0.1)\",\r\n        },\r\n        text: {\r\n          fontSize: 12,\r\n          fill: \"#262626\",\r\n        },\r\n      },\r\n      // ports: { ...ports },\r\n    },\r\n    true\r\n  );\r\n  Graph.registerNode(\r\n    \"custom-rect-group\",\r\n    {\r\n      inherit: \"rect\",\r\n      width: 66,\r\n      height: 40,\r\n      zIndex: 10,\r\n      parent: true,\r\n      attrs: {\r\n        body: {\r\n          strokeWidth: 1,\r\n          strokeDasharray: 3,\r\n          stroke: \"#5F95FF\",\r\n          fill: \"rgba(255,255,255,0)\",\r\n        },\r\n        text: {\r\n          fontSize: 12,\r\n          fill: \"#262626\",\r\n        },\r\n      },\r\n    },\r\n    true\r\n  );\r\n\r\n  // 节点类型\r\n  Graph.registerNode(\r\n    \"custom-rect-type1\",\r\n    {\r\n      inherit: \"rect\",\r\n      width: 150,\r\n      height: 30,\r\n      zIndex: 10,\r\n      attrs: {\r\n        body: {\r\n          strokeWidth: 1,\r\n          stroke: \"#5F95FF\",\r\n          fill: typeColor[1],\r\n        },\r\n        text: {\r\n          fontSize: 12,\r\n          fill: \"#262626\",\r\n        },\r\n      },\r\n      ports: { ...ports },\r\n    },\r\n    true\r\n  );\r\n  Graph.registerNode(\r\n    \"custom-rect-type2\",\r\n    {\r\n      inherit: \"rect\",\r\n      width: 150,\r\n      height: 30,\r\n      zIndex: 10,\r\n      attrs: {\r\n        body: {\r\n          strokeWidth: 1,\r\n          stroke: \"#5F95FF\",\r\n          fill: typeColor[2],\r\n        },\r\n        text: {\r\n          fontSize: 12,\r\n          fill: \"#262626\",\r\n        },\r\n      },\r\n      ports: { ...ports },\r\n    },\r\n    true\r\n  );\r\n  Graph.registerNode(\r\n    \"custom-rect-type3\",\r\n    {\r\n      inherit: \"rect\",\r\n      width: 150,\r\n      height: 30,\r\n      zIndex: 10,\r\n      attrs: {\r\n        body: {\r\n          strokeWidth: 1,\r\n          stroke: \"#5F95FF\",\r\n          fill: typeColor[3],\r\n        },\r\n        text: {\r\n          fontSize: 12,\r\n          fill: \"#262626\",\r\n        },\r\n      },\r\n      ports: { ...ports },\r\n    },\r\n    true\r\n  );\r\n  Graph.registerNode(\r\n    \"custom-rect-type4\",\r\n    {\r\n      inherit: \"rect\",\r\n      width: 150,\r\n      height: 30,\r\n      zIndex: 10,\r\n      attrs: {\r\n        body: {\r\n          strokeWidth: 1,\r\n          stroke: \"#5F95FF\",\r\n          fill: typeColor[4],\r\n        },\r\n        text: {\r\n          fontSize: 12,\r\n          fill: \"#262626\",\r\n        },\r\n      },\r\n      ports: { ...ports },\r\n    },\r\n    true\r\n  );\r\n\r\n  const r1 = graph.createNode({\r\n    shape: \"custom-rect\",\r\n    label: \"开始\",\r\n    attrs: {\r\n      body: {\r\n        rx: 25,\r\n        ry: 20,\r\n      },\r\n    },\r\n  });\r\n  const r2 = graph.createNode({\r\n    shape: \"custom-rect-node\",\r\n    label1: \"节点名称\",\r\n    label2: \"角色名称\",\r\n    type: 1,\r\n    textColor1: \"#2c3e50\",\r\n    textColor2: \"#2c3e50\",\r\n    attrs: {\r\n      body: {\r\n        rx: 125,\r\n        ry: 20,\r\n      },\r\n    },\r\n  });\r\n  const r3 = graph.createNode({\r\n    shape: \"custom-rect\",\r\n    attrs: {\r\n      body: {\r\n        rx: 6,\r\n        ry: 6,\r\n      },\r\n    },\r\n    label: \"可选过程\",\r\n  });\r\n  const r4 = graph.createNode({\r\n    shape: \"custom-polygon\",\r\n    attrs: {\r\n      body: {\r\n        rx: 125,\r\n        ry: 20,\r\n        refPoints: \"0,10 10,0 20,10 10,20\",\r\n      },\r\n    },\r\n    label: \"决策\",\r\n  });\r\n  const r5 = graph.createNode({\r\n    shape: \"custom-polygon\",\r\n    attrs: {\r\n      body: {\r\n        refPoints: \"10,0 40,0 30,20 0,20\",\r\n      },\r\n    },\r\n    label: \"数据\",\r\n  });\r\n  const r6 = graph.createNode({\r\n    shape: \"custom-circle\",\r\n    label: \"连接\",\r\n  });\r\n  const r7 = graph.createNode({\r\n    shape: \"custom-rect-dashed\",\r\n    label: \"客户池\",\r\n  });\r\n\r\n  const r8 = graph.createNode({\r\n    shape: \"custom-rect-text\",\r\n    label: \"文字\",\r\n  });\r\n\r\n  const r9 = graph.createNode({\r\n    shape: \"custom-rect-type1\",\r\n    label: \"批量保前-批次审批流程\",\r\n  });\r\n  const r10 = graph.createNode({\r\n    shape: \"custom-rect-type2\",\r\n    label: \"批量保前-费用与放款落实\",\r\n  });\r\n  const r11 = graph.createNode({\r\n    shape: \"custom-rect-type3\",\r\n    label: \"批量保后-批量处理\",\r\n  });\r\n  const r12 = graph.createNode({\r\n    shape: \"custom-rect-type4\",\r\n    label: \"批量保后-风险待办\",\r\n  });\r\n  const r13 = graph.createNode({\r\n    shape: \"custom-rect-group\",\r\n    label: \"群组\",\r\n  });\r\n  stencil.load([r1, r2, r3, r4, r5, r6, r7, r8, r13], \"group1\");\r\n  stencil.load([r9, r10, r11, r12], \"group2\");\r\n}\r\n\r\n// 事件\r\nexport function eventOnFun(graph, callback) {\r\n  // 控制连接桩显示/隐藏\r\n  const showPorts = (ports, show) => {\r\n    for (let i = 0, len = ports.length; i < len; i += 1) {\r\n      ports[i].style.visibility = show ? \"visible\" : \"hidden\";\r\n    }\r\n  };\r\n\r\n  // 点击节点显示删除按钮\r\n  graph.on(\"node:click\", ({ node }) => {\r\n    if (!node.hasTool(\"button-remove\")) {\r\n      node.addTools([\r\n        {\r\n          name: \"button-remove\",\r\n          args: { x: 10, y: 5 },\r\n        },\r\n      ]);\r\n    } else {\r\n      node.removeTool(\"button-remove\");\r\n    }\r\n  });\r\n\r\n  // 鼠标移入展示连接点\r\n  graph.on(\"node:mouseenter\", () => {\r\n    const container = document.getElementById(\"graphContainer\");\r\n    const ports = container.querySelectorAll(\".x6-port-body\");\r\n    showPorts(ports, true);\r\n  });\r\n  graph.on(\"node:mouseleave\", () => {\r\n    const container = document.getElementById(\"graphContainer\");\r\n    const ports = container.querySelectorAll(\".x6-port-body\");\r\n    showPorts(ports, false);\r\n  });\r\n\r\n  // 鼠标点击连线展示删除/拖动线段工具\r\n  graph.on(\"edge:click\", ({ edge }) => {\r\n    if (!edge.hasTool(\"button-remove\")) {\r\n      edge.addTools([\r\n        {\r\n          name: \"button-remove\",\r\n          args: {\r\n            distance: \"20%\",\r\n            offset: 0,\r\n            // 删除回调\r\n            // onClick ({ cell }) {\r\n            // }\r\n          },\r\n        },\r\n      ]);\r\n    } else {\r\n      edge.removeTool(\"button-remove\");\r\n    }\r\n    if (!edge.hasTool(\"segments\")) {\r\n      const xDistance = Math.abs(\r\n        edge.getTargetPoint().x - edge.getSourcePoint().x\r\n      );\r\n      const yDistance = Math.abs(\r\n        edge.getTargetPoint().y - edge.getSourcePoint().y\r\n      );\r\n      const distance = Math.min(xDistance, yDistance);\r\n      edge.addTools([\r\n        {\r\n          name: \"segments\",\r\n          args: {\r\n            snapRadius: 20,\r\n            precision: distance + 0.5,\r\n            attrs: {\r\n              fill: \"#444\",\r\n              // distance: \"80%\",\r\n            },\r\n          },\r\n        },\r\n      ]);\r\n    } else {\r\n      edge.removeTool(\"segments\");\r\n    }\r\n  });\r\n\r\n  // 双击编辑节点\r\n  graph.on(\"node:dblclick\", ({ node, e }) => {\r\n    if (\r\n      node.store.data.shape === \"custom-rect-node\" ||\r\n      node.store.data.shape === \"custom-rect-group\"\r\n    ) {\r\n      node.prop(\"isEdit\", true);\r\n      callback({\r\n        nodeClicked: true,\r\n        node: node,\r\n        isGroup: node.store.data.shape === \"custom-rect-group\",\r\n      });\r\n    } else {\r\n      node.addTools({\r\n        name: \"node-editor\",\r\n        args: {\r\n          event: e,\r\n        },\r\n      });\r\n    }\r\n  });\r\n\r\n  // 双击编辑边\r\n  graph.on(\"edge:dblclick\", ({ edge, e }) => {\r\n    edge.addTools({\r\n      name: \"edge-editor\",\r\n      args: {\r\n        event: e,\r\n      },\r\n    });\r\n  });\r\n\r\n  // 监听节点数据改变-编辑节点内容用\r\n  graph.on(\"node:changed\", ({ node }) => {\r\n    // 如果节点id修改了，需要重新渲染一个节点，删除原来的节点\r\n    if (node.store.data.isUpdate) {\r\n      graph.addNode({\r\n        id: node.store.data.id,\r\n        shape: \"custom-rect-node\",\r\n        x: node.store.data.position.x,\r\n        y: node.store.data.position.y,\r\n        label1: node.store.data.label1,\r\n        label2: node.store.data.label2,\r\n        type: node.store.data.type,\r\n        isEdit: node.store.data.isEdit,\r\n        width: 180,\r\n        height: 70,\r\n      });\r\n      graph.removeNode(node.id);\r\n    }\r\n  });\r\n\r\n  // 监听边的右键事件\r\n  graph.on(\"edge:contextmenu\", ({ edge, e }) => {\r\n    callback({ contextmenu: true, edge, e });\r\n  });\r\n\r\n  // 监听节点的右键事件\r\n  graph.on(\"node:contextmenu\", ({ node, e }) => {\r\n    if (node.store.data.shape !== \"custom-rect-node\") {\r\n      callback({ contextmenu: true, node, e });\r\n    }\r\n  });\r\n\r\n  // 空白处点击事件\r\n  graph.on(\"blank:click\", () => {\r\n    callback({ blankClick: true });\r\n  });\r\n}\r\n\r\n// 清除事件\r\nexport function eventOffFun(graph) {\r\n  graph.off(\"node:click\");\r\n  graph.off(\"node:mouseenter\");\r\n  graph.off(\"node:mouseleave\");\r\n  graph.off(\"edge:click\");\r\n  graph.off(\"node:dblclick\");\r\n  graph.off(\"edge:dblclick\");\r\n  graph.off(\"node:changed\");\r\n  graph.off(\"node:contextmenu\");\r\n}\r\n","<template>\r\n  <div class=\"container\" style=\"width: 100%; height: 100%\">\r\n    <div class=\"content\" style=\"width: 100%; height: 100%\">\r\n      <div class=\"app-stencil\" id=\"stencilContainer\" v-show=\"!onlyRead\"></div>\r\n      <div class=\"app-content\" id=\"graphContainer\"></div>\r\n    </div>\r\n    <!-- 工具栏 -->\r\n    <div class=\"operations\" v-show=\"!onlyRead\">\r\n      <div class=\"operations-item\">\r\n        <el-popover\r\n          placement=\"top-start\"\r\n          title=\"快捷键\"\r\n          width=\"200\"\r\n          trigger=\"hover\"\r\n        >\r\n          <div>\r\n            <div>画布缩放：ctrl/meta+鼠标滚轮</div>\r\n            <div>节点内容编辑：鼠标左键双击</div>\r\n            <div>节点大小调整：鼠标左键单击</div>\r\n            <div>多个节点框选：ctrl/meta+鼠标左键拖动</div>\r\n            <div>节点删除：鼠标左键单击节点</div>\r\n            <div>连线颜色修改：鼠标右键</div>\r\n            <div>连线删除/修改：鼠标左键单击连线</div>\r\n            <div>文本颜色修改：鼠标右键</div>\r\n            <div>退出只读模式：ctrl+alt+shift</div>\r\n          </div>\r\n          <div slot=\"reference\">\r\n            <i class=\"el-icon-more\"></i>\r\n            <div class=\"text\">操作说明</div>\r\n          </div>\r\n        </el-popover>\r\n      </div>\r\n      <div class=\"operations-item\" @click=\"onlyReadFun()\">\r\n        <i class=\"el-icon-view\"></i>\r\n        <div class=\"text\">只读模式</div>\r\n      </div>\r\n      <div\r\n        class=\"operations-item\"\r\n        :class=\"{ active: isSelect }\"\r\n        @click=\"selectFun()\"\r\n      >\r\n        <i class=\"el-icon-crop\"></i>\r\n        <div class=\"text\">\r\n          {{ isSelect ? \"禁用框选\" : \"开启框选\" }}\r\n        </div>\r\n      </div>\r\n      <div class=\"operations-item\" @click=\"saveFun()\">\r\n        <i class=\"el-icon-thumb\"></i>\r\n        <div class=\"text\">保存数据</div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 编辑节点弹窗 -->\r\n    <el-dialog\r\n      title=\"编辑节点\"\r\n      :visible.sync=\"isShowEditCard\"\r\n      :close-on-click-modal=\"false\"\r\n      width=\"30%\"\r\n      @close=\"cancelEdit()\"\r\n    >\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n        <template v-if=\"!isGroup\">\r\n          <el-form-item label=\"节点code\" prop=\"code\">\r\n            <el-input v-model=\"form.code\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"节点名称\" prop=\"name\" class=\"node_name\">\r\n            <el-input v-model=\"form.name\"></el-input>\r\n            <el-color-picker\r\n              v-model=\"form.textColor1\"\r\n              size=\"small\"\r\n              @change=\"($event) => colorChange($event, 1)\"\r\n            ></el-color-picker>\r\n          </el-form-item>\r\n          <el-form-item label=\"角色名称\" class=\"node_name\">\r\n            <el-input v-model=\"form.role\"></el-input>\r\n            <el-color-picker\r\n              v-model=\"form.textColor2\"\r\n              size=\"small\"\r\n              @change=\"($event) => colorChange($event, 2)\"\r\n            ></el-color-picker>\r\n          </el-form-item>\r\n        </template>\r\n        <el-form-item label=\"节点类型\" prop=\"type\">\r\n          <el-select\r\n            v-model=\"form.type\"\r\n            placeholder=\"请选择节点类型\"\r\n            class=\"node_select\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in typeOptions\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"cancelEdit()\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submitEdit('form')\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 右键下拉菜单 -->\r\n    <div class=\"custom_drop_down\" id=\"custom_drop_down\">\r\n      <div class=\"custom_drop_down_item\">\r\n        背景颜色\r\n        <el-color-picker\r\n          v-model=\"nodeColor\"\r\n          size=\"small\"\r\n          @change=\"($event) => setColor($event, 1)\"\r\n        ></el-color-picker>\r\n      </div>\r\n      <div class=\"custom_drop_down_item\">\r\n        文字/连线颜色\r\n        <el-color-picker\r\n          v-model=\"edgeColor\"\r\n          size=\"small\"\r\n          @change=\"($event) => setColor($event, 2)\"\r\n        ></el-color-picker>\r\n      </div>\r\n      <div class=\"custom_drop_down_item\">\r\n        <div>\r\n          字体大小\r\n          <el-input-number\r\n            v-model=\"fontSize\"\r\n            size=\"mini\"\r\n            :precision=\"0\"\r\n            :step=\"1\"\r\n            @change=\"fontSizeChange\"\r\n          ></el-input-number>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n// import { dataValue } from \"./dataConfig\";\r\nimport {\r\n  initGraph,\r\n  initStencil,\r\n  registerNode,\r\n  eventOnFun,\r\n  eventOffFun,\r\n} from \"./config\";\r\n\r\nexport default {\r\n  name: \"FlowChart\",\r\n  data() {\r\n    return {\r\n      data: [],\r\n      highlightCode: [\"12550\"], //高亮节点\r\n      highLightNode: [],\r\n      graph: null,\r\n      onlyRead: false,\r\n      isSelect: false,\r\n      isShowEditCard: false,\r\n      form: {\r\n        code: \"\",\r\n        name: \"\",\r\n        role: \"\",\r\n        type: \"\",\r\n        textColor1: \"\",\r\n        textColor2: \"\",\r\n      },\r\n      typeOptions: [\r\n        {\r\n          label: \"批量保前-批次审批流程\",\r\n          value: 1,\r\n        },\r\n        {\r\n          label: \"批量保前-费用与放款落实\",\r\n          value: 2,\r\n        },\r\n        {\r\n          label: \"批量保后-批量处理\",\r\n          value: 3,\r\n        },\r\n        {\r\n          label: \"批量保后-风险待办\",\r\n          value: 4,\r\n        },\r\n      ],\r\n      rules: {\r\n        code: [{ required: true, message: \"请输入节点code\", trigger: \"blur\" }],\r\n        name: [{ required: true, message: \"请输入节点名称\", trigger: \"blur\" }],\r\n        type: [{ required: true, message: \"请输入节点类型\", trigger: \"blur\" }],\r\n      },\r\n      editNodeId: null,\r\n      showContextMenu: false,\r\n      edgeColor: \"#A2B1C3\", // 边/文本颜色\r\n      nodeColor: \"#A2B1C3\", // 节点颜色\r\n      curEdge: {},\r\n      isGroup: false,\r\n      fontSize: 12,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.init();\r\n      window.addEventListener(\"keydown\", this.myKeyFun);\r\n    });\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"keydown\", this.myKeyFun);\r\n  },\r\n  methods: {\r\n    init() {\r\n      // 创建画布\r\n      this.graph = initGraph(\"graphContainer\");\r\n      // 创建左侧组件栏\r\n      this.stencil = initStencil(this.graph);\r\n      document\r\n        .getElementById(\"stencilContainer\")\r\n        .appendChild(this.stencil.container);\r\n      // 注册节点\r\n      registerNode(this.graph, this.stencil);\r\n\r\n      // 启用事件交互监听\r\n      this.interactiveFun();\r\n      this.isSelect = this.graph.options.selecting.enabled;\r\n\r\n      // 设置高亮节点\r\n      const dataArr = (data, highlightCode) => {\r\n        if (data.cells) {\r\n          return {\r\n            cells: data.cells.map((item) => {\r\n              if (highlightCode.indexOf(item.code) > -1) {\r\n                this.highLightNode.push(item);\r\n                this.translateView(item.position.x, item.position.y);\r\n              }\r\n              return {\r\n                ...item,\r\n                highLight: highlightCode.indexOf(item.code) > -1,\r\n              };\r\n            }),\r\n          };\r\n        } else {\r\n          return {\r\n            cells: [],\r\n          };\r\n        }\r\n      };\r\n      this.graph.fromJSON(dataArr(this.data, this.highlightCode)); // 渲染元素\r\n      // graph.centerContent(); // 居中显示\r\n\r\n      // 群组显示处理\r\n      const types = this.highLightNode.map((item) => {\r\n        return item.type;\r\n      });\r\n      const parents = this.data.cells.filter((item) => {\r\n        return item.parent;\r\n      });\r\n      parents.forEach((item) => {\r\n        if (types.indexOf(item.type) > -1) {\r\n          const cell = this.graph.getCellById(item.id);\r\n          if (cell) {\r\n            // 修改填充颜色\r\n            cell.attr(\"body/fill\", \"rgba(255,255,255,0.6)\");\r\n          }\r\n        }\r\n      });\r\n    },\r\n    saveFun() {\r\n      console.log(this.graph.toJSON());\r\n    },\r\n\r\n    // 开启/取消框选\r\n    selectFun() {\r\n      if (this.graph) {\r\n        this.graph.options.selecting.enabled =\r\n          !this.graph.options.selecting.enabled;\r\n        this.isSelect = this.graph.options.selecting.enabled;\r\n      }\r\n    },\r\n\r\n    // 只读\r\n    onlyReadFun() {\r\n      this.onlyRead = true;\r\n      this.handleContextMenu(0, 0, \"none\");\r\n      this.graph.getEdges().forEach((edge) => {\r\n        edge.removeTools();\r\n      });\r\n      this.graph.getNodes().forEach((node) => {\r\n        node.prop(\"onlyRead\", true);\r\n        node.removeTools();\r\n      });\r\n      eventOffFun(this.graph);\r\n      if (this.graph) {\r\n        this.graph.options.interacting = false;\r\n        this.graph.options.selecting.enabled = false;\r\n        this.graph.options.resizing.enabled = false;\r\n      }\r\n    },\r\n\r\n    // 键盘监听\r\n    myKeyFun(e) {\r\n      // 退出只读模式\r\n      if (this.onlyRead && e.altKey && e.ctrlKey && e.shiftKey) {\r\n        this.onlyRead = false;\r\n        this.interactiveFun();\r\n      }\r\n    },\r\n\r\n    // 启动所有交互效果\r\n    interactiveFun() {\r\n      const _this = this;\r\n      eventOnFun(this.graph, function (val) {\r\n        _this.isGroup = val.isGroup;\r\n        // 双击编辑节点\r\n        if (val.nodeClicked) {\r\n          _this.form = {\r\n            code: val.node.store.data.code,\r\n            name: val.node.store.data.label1,\r\n            role: val.node.store.data.label2,\r\n            type: val.node.store.data.type,\r\n            textColor1: val.node.store.data.textColor1,\r\n            textColor2: val.node.store.data.textColor2,\r\n          };\r\n          _this.isShowEditCard = true;\r\n          _this.editNodeId = val.node.id;\r\n        }\r\n        // 右键显示菜单\r\n        if (val.contextmenu) {\r\n          _this.curEdge = val.edge ? val.edge : val.node;\r\n          _this.edgeColor = val.edge\r\n            ? val.edge.attrs.line.stroke\r\n            : val.node.attrs.text.fill;\r\n          _this.nodeColor = val.node ? val.node.attrs.body.fill : \"#A2B1C3\";\r\n          _this.fontSize = val.node ? val.node.attrs.text.fontSize : 12;\r\n          _this.handleContextMenu(val.e.clientX, val.e.clientY, \"block\"); // 调用自定义的右键菜单显示方法\r\n        }\r\n        if (val.blankClick) {\r\n          _this.handleContextMenu(0, 0, \"none\");\r\n        }\r\n      });\r\n      if (this.graph) {\r\n        this.graph.options.interacting = true;\r\n        // this.graph.options.selecting.enabled = true;\r\n        this.graph.options.resizing.enabled = true;\r\n      }\r\n    },\r\n\r\n    // 移动画布\r\n    translateView(x, y) {\r\n      const canvasWidth = this.graph.container.offsetWidth;\r\n      const canvasHeight = this.graph.container.offsetHeight;\r\n      const tx = x > canvasWidth ? x - canvasWidth + 200 : 0;\r\n      const ty = y > canvasHeight ? y - canvasHeight + 60 : 0;\r\n      // this.graph.centerPoint(item.position.x, item.position.y);\r\n      this.graph.translate(-tx, -ty);\r\n    },\r\n\r\n    submitEdit(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          let cell = this.graph.getCellById(this.editNodeId);\r\n          if (cell) {\r\n            cell.prop(\"code\", this.form.code);\r\n            cell.prop(\"label1\", this.form.name);\r\n            cell.prop(\"label2\", this.form.role);\r\n            cell.prop(\"type\", this.form.type);\r\n            cell.prop(\"textColor1\", this.form.textColor1);\r\n            cell.prop(\"textColor2\", this.form.textColor2);\r\n            // 重新设置节点大小\r\n            if (!this.isGroup) {\r\n              this.$nextTick(() => {\r\n                const targetDom = document\r\n                  .getElementById(`flow_node${this.editNodeId}`)\r\n                  .getBoundingClientRect();\r\n                if (targetDom) {\r\n                  cell.setSize({\r\n                    width: targetDom.width,\r\n                    height: targetDom.height,\r\n                  });\r\n                }\r\n              });\r\n            }\r\n            this.isShowEditCard = false;\r\n            this.isGroup = false;\r\n            this.editNodeId = null;\r\n            this.resetForm(\"form\");\r\n          }\r\n        }\r\n      });\r\n    },\r\n    cancelEdit() {\r\n      this.isShowEditCard = false;\r\n      this.resetForm(\"form\");\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n    },\r\n    handleContextMenu(x, y, type) {\r\n      this.$nextTick(() => {\r\n        const dropdown = document.getElementById(\"custom_drop_down\");\r\n        dropdown.style.left = `${x}px`;\r\n        dropdown.style.top = `${y + 10}px`;\r\n        dropdown.style.display = type;\r\n      });\r\n    },\r\n\r\n    colorChange(value, type) {\r\n      this.form[`textColor${type}`] = value;\r\n    },\r\n    setColor(value, type) {\r\n      const cell = this.graph.getCellById(this.curEdge.id);\r\n      // 然后设置它的样式\r\n      if (cell) {\r\n        // 设置节点颜色\r\n        if (type === 1) {\r\n          cell.attr(\"body/fill\", value || \"#EFF4FF\");\r\n        } else {\r\n          // 修改边的颜色\r\n          cell.attr(\"line/stroke\", value || \"#A2B1C3\");\r\n          // 修改文字颜色\r\n          cell.attr(\"text/fill\", value || \"#A2B1C3\");\r\n        }\r\n      }\r\n      const dropdown = document.getElementById(\"custom_drop_down\");\r\n      dropdown.style.display = `none`;\r\n      this.curEdge = {};\r\n      this.edgeColor = \"#A2B1C3\";\r\n      this.nodeColor = \"#A2B1C3\";\r\n    },\r\n    fontSizeChange() {\r\n      const cell = this.graph.getCellById(this.curEdge.id);\r\n      if (cell) {\r\n        // 修改文字颜色\r\n        cell.attr(\"text/fontSize\", this.fontSize || 12);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.container {\r\n  position: relative;\r\n}\r\n.content {\r\n  font-family: sans-serif;\r\n  display: flex;\r\n}\r\n.app-stencil {\r\n  width: 200px;\r\n  height: 100%;\r\n  border: 1px solid #f0f0f0;\r\n  position: relative;\r\n}\r\n\r\n.app-content {\r\n  flex: 1;\r\n  height: 100%;\r\n  margin-left: 8px;\r\n  margin-right: 8px;\r\n  box-shadow: 0 0 10px 1px #e9e9e9;\r\n  display: flex;\r\n}\r\n.operations {\r\n  border-radius: 8px;\r\n  background-color: #fff;\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  display: flex;\r\n  font-size: 14px;\r\n}\r\n.operations-item {\r\n  cursor: pointer;\r\n  padding: 5px 10px;\r\n}\r\n.operations-item .text {\r\n  font-size: 12px;\r\n}\r\n.active {\r\n  background-color: #409eff;\r\n  color: #fff;\r\n}\r\n.x6-widget-stencil {\r\n  background-color: #fff;\r\n}\r\n.x6-widget-stencil-title {\r\n  background-color: #fff;\r\n}\r\n.x6-widget-stencil-group-title {\r\n  background-color: #fff !important;\r\n}\r\n.x6-widget-transform {\r\n  margin: -1px 0 0 -1px;\r\n  padding: 0px;\r\n  border: 1px solid #239edd;\r\n}\r\n.x6-widget-transform > div {\r\n  border: 1px solid #239edd;\r\n}\r\n.x6-widget-transform > div:hover {\r\n  background-color: #3dafe4;\r\n}\r\n.x6-widget-transform-active-handle {\r\n  background-color: #3dafe4;\r\n}\r\n.x6-widget-transform-resize {\r\n  border-radius: 0;\r\n}\r\n.x6-widget-selection-inner {\r\n  border: 1px solid #239edd;\r\n}\r\n.x6-widget-selection-box {\r\n  opacity: 0;\r\n}\r\n.node_select {\r\n  width: 100%;\r\n}\r\n.custom_drop_down {\r\n  width: 200px;\r\n  border-radius: 4px;\r\n  background-color: #fff;\r\n  position: absolute;\r\n  display: none;\r\n  border: 1px solid #ebeef5;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n}\r\n.custom_drop_down .custom_drop_down_item {\r\n  padding: 8px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  /* justify-content: center; */\r\n  align-items: center;\r\n}\r\n.custom_drop_down .custom_drop_down_item .el-input-number {\r\n  width: 100px;\r\n}\r\n::v-deep\r\n  .el-dialog\r\n  .el-dialog__body\r\n  .el-form\r\n  .node_name\r\n  .el-form-item__content {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FlowChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FlowChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FlowChart.vue?vue&type=template&id=78b910c8&scoped=true&\"\nimport script from \"./FlowChart.vue?vue&type=script&lang=js&\"\nexport * from \"./FlowChart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FlowChart.vue?vue&type=style&index=0&id=78b910c8&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78b910c8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <FlowChart />\n  </div>\n</template>\n\n<script>\nimport FlowChart from \"./components/FlowChart/FlowChart.vue\";\n\nexport default {\n  name: \"App\",\n  components: {\n    FlowChart,\n  },\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  /* margin-top: 60px; */\n  height: 100%;\n}\nbody {\n  height: 100vh;\n  margin: 0;\n  padding: 0;\n}\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=561847ae&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=561847ae&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport ElementUI from \"element-ui\";\nimport \"element-ui/lib/theme-chalk/index.css\";\n\nVue.config.productionTip = false;\nVue.use(ElementUI);\n\nnew Vue({\n  render: (h) => h(App),\n}).$mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunktest_v2\"] = self[\"webpackChunktest_v2\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(7097); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticRenderFns","staticClass","staticStyle","directives","name","rawName","value","onlyRead","expression","_v","slot","on","$event","onlyReadFun","class","active","isSelect","selectFun","_s","saveFun","isShowEditCard","cancelEdit","ref","form","rules","isGroup","_e","model","code","callback","$$v","$set","colorChange","textColor1","role","textColor2","type","_l","typeOptions","item","key","label","submitEdit","setColor","nodeColor","edgeColor","fontSizeChange","fontSize","highLight","id","style","color","lobelTop","typeColor","lobelBottom","inject","data","isEdit","mounted","node","getNode","store","label1","label2","current","component","ports","groups","top","position","circle","r","magnet","stroke","strokeWidth","fill","visibility","right","bottom","left","items","group","args","x","y","initGraph","container","Graph","document","getElementById","width","height","grid","panning","enabled","selecting","multiple","rubberband","modifiers","movable","showNodeSelectionBox","pointerEvents","embedding","findParent","bbox","getBBox","getNodes","filter","parent","targetBBox","isIntersectWithRect","resizing","background","mousewheel","interacting","connecting","router","excludeShapes","connector","radius","allowBlank","snap","createEdge","Shape","line","targetMarker","text","zIndex","validateConnection","targetMagnet","highlighting","magnetAdsorbed","initStencil","graph","Stencil","Addon","title","target","stencilGraphWidth","stencilGraphHeight","collapsable","layoutOptions","columns","columnWidth","rowHeight","getDropNode","size","shape","includes","clone","attr","registerNode","stencil","register","RectNode","inherit","body","refPoints","markup","tagName","selector","image","refX","refY","textAnchor","textVerticalAnchor","strokeDasharray","r1","createNode","rx","ry","r2","r3","r4","r5","r6","r7","r8","r9","r10","r11","r12","r13","load","eventOnFun","showPorts","show","i","len","length","hasTool","removeTool","addTools","querySelectorAll","edge","distance","offset","xDistance","Math","abs","getTargetPoint","getSourcePoint","yDistance","min","snapRadius","precision","e","prop","nodeClicked","event","isUpdate","addNode","removeNode","contextmenu","blankClick","eventOffFun","off","highlightCode","highLightNode","required","message","trigger","editNodeId","showContextMenu","curEdge","$nextTick","init","window","addEventListener","myKeyFun","destroyed","removeEventListener","methods","appendChild","interactiveFun","options","dataArr","cells","map","indexOf","push","translateView","fromJSON","types","parents","forEach","cell","getCellById","console","log","toJSON","handleContextMenu","getEdges","removeTools","altKey","ctrlKey","shiftKey","_this","val","clientX","clientY","canvasWidth","offsetWidth","canvasHeight","offsetHeight","tx","ty","translate","formName","$refs","validate","valid","targetDom","getBoundingClientRect","setSize","resetForm","resetFields","dropdown","display","components","FlowChart","Vue","config","productionTip","use","ElementUI","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","m","amdO","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}